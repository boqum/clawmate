<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ClawMate Launcher</title>
  <link rel="stylesheet" href="css/launcher.css">
</head>
<body>
  <div class="launcher">
    <div class="launcher-header">
      <div class="logo">
        <span class="claw-icon">\u{1F99E}</span>
      </div>
      <h1>ClawMate</h1>
      <p class="subtitle">A living Claw on your desktop</p>
    </div>

    <div class="launcher-body">
      <div class="mode-card" id="mode-pet" onclick="selectMode('pet')">
        <div class="mode-icon">\u{1F990}</div>
        <h2>Clawby</h2>
        <p>Cute companion</p>
        <span class="mode-desc">A playful little lobster roaming your desktop!</span>
      </div>

      <div class="mode-card" id="mode-incarnation" onclick="selectMode('incarnation')">
        <div class="mode-icon">\u{1F980}</div>
        <h2>Claw</h2>
        <p>An entity given physical form</p>
        <span class="mode-desc">The calm and bold Claw descends upon your desktop.</span>
      </div>
    </div>

    <button class="start-btn" id="start-btn" disabled onclick="startPet()">
      Select a mode
    </button>
  </div>

  <script>
    let selectedMode = null;

    function selectMode(mode) {
      selectedMode = mode;
      document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('selected'));
      document.getElementById('mode-' + mode).classList.add('selected');
      const btn = document.getElementById('start-btn');
      btn.disabled = false;
      btn.textContent = mode === 'pet' ? 'Start Clawby!' : 'Awaken Claw!';
    }

    async function startPet() {
      if (!selectedMode) return;
      await window.clawmate.setMode(selectedMode);
      window.close();
    }
  </script>
</body>
</html>
