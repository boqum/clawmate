<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ClawMate - First Meeting</title>
  <link rel="stylesheet" href="css/launcher.css">
  <style>
    .intro-text {
      text-align: center;
      color: #666;
      font-size: 14px;
      margin: 20px 0;
      line-height: 1.6;
    }
    .welcome-anim {
      font-size: 48px;
      animation: bounce 1s ease-in-out infinite alternate;
      text-align: center;
      margin: 20px 0;
    }
    @keyframes bounce {
      0% { transform: translateY(0); }
      100% { transform: translateY(-10px); }
    }
  </style>
</head>
<body>
  <div class="launcher">
    <div class="launcher-header">
      <div class="welcome-anim">\u{1F99E}</div>
      <h1>Welcome!</h1>
      <p class="subtitle">Welcome to ClawMate</p>
    </div>

    <div class="intro-text">
      <p>Meet your little friend who roams around your desktop with you.</p>
      <p>The longer you stay together, the more your friend will evolve!</p>
      <p><strong>Which mode would you like to start with?</strong></p>
    </div>

    <div class="launcher-body">
      <div class="mode-card" id="mode-pet" onclick="selectMode('pet')">
        <div class="mode-icon">\u{1F990}</div>
        <h2>Clawby</h2>
        <p>Cute companion</p>
        <span class="mode-desc">A playful and affectionate little lobster!</span>
      </div>

      <div class="mode-card" id="mode-incarnation" onclick="selectMode('incarnation')">
        <div class="mode-icon">\u{1F980}</div>
        <h2>Claw</h2>
        <p>An entity given physical form</p>
        <span class="mode-desc">The calm and charismatic Claw!</span>
      </div>
    </div>

    <button class="start-btn" id="start-btn" disabled onclick="startFirstRun()">
      Select a mode
    </button>

    <p class="tip" style="text-align:center;color:#999;font-size:11px;margin-top:12px;">
      You can change modes later with a triple-click or from the tray menu
    </p>
  </div>

  <script>
    let selectedMode = null;

    function selectMode(mode) {
      selectedMode = mode;
      document.querySelectorAll('.mode-card').forEach(c => c.classList.remove('selected'));
      document.getElementById('mode-' + mode).classList.add('selected');
      const btn = document.getElementById('start-btn');
      btn.disabled = false;
      btn.textContent = mode === 'pet' ? 'Start with Clawby!' : 'Start with Claw!';
    }

    async function startFirstRun() {
      if (!selectedMode) return;
      await window.clawmate.setMode(selectedMode);
      await window.clawmate.saveMemory({
        firstRunDate: new Date().toISOString(),
        totalDays: 0,
        totalClicks: 0,
      });
      window.close();
    }
  </script>
</body>
</html>
